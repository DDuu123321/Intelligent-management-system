import{d as U,u as A,a as F,b as I,r as g,c as K,e as f,f as P,g as e,h as s,w as a,i as d,t as l,j,k as D,o as v,l as r,m as M,n as h,p as G,q as H,s as J,E as L,_ as O}from"./index-CC1QUR8I.js";import{r as Q}from"./request-RQfx8Tvg.js";const T=b=>Q.post("/auth/login",b),W={class:"login-container"},X={class:"login-content"},Y={class:"brand-section"},Z={class:"brand-container"},x={class:"brand-logo"},ee={class:"brand-title"},se={class:"brand-subtitle"},oe={class:"features-list"},ae={class:"feature-item"},te={class:"feature-item"},le={class:"feature-item"},ne={class:"form-section"},ie={class:"login-form"},de={class:"language-selector"},re={class:"form-header"},ue={class:"form-title"},ce={class:"form-subtitle"},pe={class:"input-label"},_e={class:"input-label"},me={key:0},ge={key:1},fe=U({__name:"Login",setup(b){const S=j(),q=D(),C=A(),w=F(),{t:c}=I(),y=g(),p=g(!1),_=g(w.currentLocale),i=K({username:"",password:""}),z={username:[{required:!0,message:()=>c("login.username")+" is required",trigger:"blur"}],password:[{required:!0,message:()=>c("login.password")+" is required",trigger:"blur"}]},E=o=>{w.setLocale(o),_.value=o},$=async()=>{try{if(!await y.value.validate())return;p.value=!0,console.log("正在登录...",i.username);const t=await T(i);console.log("登录响应:",t),C.setAuth(t.data),L.success(c("login.loginSuccess"));const n=q.query.redirect||"/admin/dashboard";S.push(n)}catch(o){console.error("登录失败:",o),L.error(o.message||c("login.loginFailed"))}finally{p.value=!1}};return(o,t)=>{const n=d("el-icon"),V=d("el-option"),B=d("el-select"),k=d("el-input"),m=d("el-form-item"),N=d("el-button"),R=d("el-form");return v(),f("div",W,[t[5]||(t[5]=P('<div class="login-background" data-v-783ed3d1><div class="background-shapes" data-v-783ed3d1><div class="shape shape-1" data-v-783ed3d1></div><div class="shape shape-2" data-v-783ed3d1></div><div class="shape shape-3" data-v-783ed3d1></div><div class="shape shape-4" data-v-783ed3d1></div><div class="shape shape-5" data-v-783ed3d1></div></div></div>',1)),e("div",X,[e("div",Y,[e("div",Z,[e("div",x,[s(n,{size:"80",color:"#fff"},{default:a(()=>[s(r(M))]),_:1})]),e("h1",ee,l(o.$t("login.title")),1),e("p",se,l(o.$t("login.subtitle")||"智能监控管理系统"),1),e("div",oe,[e("div",ae,[s(n,null,{default:a(()=>[s(r(h))]),_:1}),e("span",null,l(o.$t("login.feature1")||"实时监控管理"),1)]),e("div",te,[s(n,null,{default:a(()=>[s(r(h))]),_:1}),e("span",null,l(o.$t("login.feature2")||"员工考勤系统"),1)]),e("div",le,[s(n,null,{default:a(()=>[s(r(h))]),_:1}),e("span",null,l(o.$t("login.feature3")||"车辆跟踪定位"),1)])])])]),e("div",ne,[e("div",ie,[e("div",de,[s(B,{modelValue:_.value,"onUpdate:modelValue":t[0]||(t[0]=u=>_.value=u),onChange:E,size:"default",class:"lang-select"},{default:a(()=>[s(V,{label:"中文",value:"zh-CN"},{default:a(()=>[...t[3]||(t[3]=[e("span",{class:"lang-option"},"🇨🇳 中文",-1)])]),_:1}),s(V,{label:"English",value:"en-US"},{default:a(()=>[...t[4]||(t[4]=[e("span",{class:"lang-option"},"🇺🇸 English",-1)])]),_:1})]),_:1},8,["modelValue"])]),e("div",re,[e("h2",ue,l(o.$t("login.welcome")||"欢迎登录"),1),e("p",ce,l(o.$t("login.formSubtitle")||"请输入您的账户信息"),1)]),s(R,{model:i,rules:z,ref_key:"formRef",ref:y,class:"login-form-content"},{default:a(()=>[s(m,{prop:"username",class:"form-item"},{default:a(()=>[e("div",pe,l(o.$t("login.username")),1),s(k,{modelValue:i.username,"onUpdate:modelValue":t[1]||(t[1]=u=>i.username=u),placeholder:o.$t("login.usernamePlaceholder")||"请输入用户名",size:"large",class:"form-input"},{prefix:a(()=>[s(n,{class:"input-icon"},{default:a(()=>[s(r(G))]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1}),s(m,{prop:"password",class:"form-item"},{default:a(()=>[e("div",_e,l(o.$t("login.password")),1),s(k,{modelValue:i.password,"onUpdate:modelValue":t[2]||(t[2]=u=>i.password=u),type:"password",placeholder:o.$t("login.passwordPlaceholder")||"请输入密码",size:"large",class:"form-input",onKeyup:H($,["enter"]),"show-password":""},{prefix:a(()=>[s(n,{class:"input-icon"},{default:a(()=>[s(r(J))]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1}),s(m,{class:"form-item"},{default:a(()=>[s(N,{type:"primary",size:"large",class:"login-button",loading:p.value,onClick:$},{default:a(()=>[p.value?(v(),f("span",ge,l(o.$t("login.loginLoading")||"登录中..."),1)):(v(),f("span",me,l(o.$t("login.loginButton")),1))]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])])])])}}}),be=O(fe,[["__scopeId","data-v-783ed3d1"]]);export{be as default};
